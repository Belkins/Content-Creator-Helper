<!DOCTYPE html>
<html lang="en" class="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title data-en="Content Creator Studio ‚Äì YouTube Only" data-uk="–ö–æ–Ω—Ç–µ–Ω—Ç-–°—Ç—É–¥—ñ—è –¥–ª—è YouTube">Content Creator Studio ‚Äì YouTube Only</title>
  <!-- TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

  <style>
    .border-invalid {
      border-color: #dc2626 !important; /* red-600 in Tailwind */
    }
    .animate-slide-down {
      animation: slideDown 0.3s ease-out;
    }
    @keyframes slideDown {
      from { transform: translateY(-10px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    /* Larger preview style for desktop */
    .preview-box {
      min-height: 500px;
      border-radius: 12px;
      padding: 20px;
      background: #fafafa;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    .border-invalid {
      border-color: #e53e3e; /* Tailwind red-600 */
    }
  </style>
</head>

<body class="min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 transition-colors duration-200">
  <!-- Navbar -->
  <nav class="w-full p-6 mb-8 bg-white border-b border-gray-200 shadow-sm">
    <div class="max-w-7xl mx-auto flex items-center justify-between">
      <!-- Branding -->
      <div class="flex items-center space-x-3">
        <div class="p-3 bg-purple-100 rounded-xl">
          <i data-lucide="video" class="text-purple-700 w-6 h-6"></i>
        </div>
        <h1
          class="text-2xl font-bold text-gray-800"
          data-en="Content Creator Studio ‚Äì YouTube Only"
          data-uk="–ö–æ–Ω—Ç–µ–Ω—Ç-–°—Ç—É–¥—ñ—è –¥–ª—è YouTube">
          Content Creator Studio ‚Äì YouTube Only
        </h1>
      </div>

      <!-- Language Select -->
      <div class="flex items-center space-x-4">
        <select
          id="languageSelect"
          onchange="updateLanguage()"
          class="p-2 border border-gray-300 rounded-md bg-white text-gray-700 transition">
          <option value="en">üá¨üáß English</option>
          <option value="uk">üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
        </select>
      </div>
    </div>
  </nav>

  <!-- Main Layout -->
  <div class="max-w-7xl mx-auto px-4 lg:px-0">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

      <!-- Left: Form & Tools -->
      <div class="bg-white rounded-xl shadow-lg p-6 space-y-8">
        <p class="text-sm text-gray-600"
           data-en="This version focuses on YouTube Videos & Shorts with brand detection, competitor analysis, automatic thumbnail suggestions, bilingual output, and polished titles/descriptions."
           data-uk="–¶—è –≤–µ—Ä—Å—ñ—è –¥–ª—è YouTube (–≤—ñ–¥–µ–æ —Ç–∞ —à–æ—Ä—Ç–∏), –≤–∫–ª—é—á–∞—î –≤–∏—è–≤–ª–µ–Ω–Ω—è –±—Ä–µ–Ω–¥—ñ–≤, –∞–Ω–∞–ª—ñ–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó –∑–æ–±—Ä–∞–∂–µ–Ω—å, –¥–≤–æ–º–æ–≤–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ñ –ø–æ–∫—Ä–∞—â–µ–Ω—ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏/–æ–ø–∏—Å–∏.">
          This version focuses on YouTube Videos & Shorts with brand detection, competitor analysis, automatic thumbnail suggestions, bilingual output, and polished titles/descriptions.
        </p>

        <!-- Heading -->
        <div class="flex items-center space-x-3">
          <div class="p-2 bg-purple-100 rounded-md">
            <i data-lucide="settings" class="w-5 h-5 text-purple-600"></i>
          </div>
          <h2 class="text-xl font-semibold text-gray-800"
              data-en="YouTube Details"
              data-uk="–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è YouTube">
            YouTube Details
          </h2>
        </div>

        <!-- Format + Categories -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <!-- Format (Video or Shorts) -->
          <div>
            <label
              data-en="YouTube Format"
              data-uk="–§–æ—Ä–º–∞—Ç –Ω–∞ YouTube"
              class="block text-sm font-medium text-gray-700 mb-1">
              YouTube Format
            </label>
            <select
              id="youtubeFormatSelect"
              onchange="saveFormState(); computeScore();"
              class="w-full p-2 border border-gray-300 rounded-md bg-white text-gray-700 focus:ring-2 focus:ring-purple-400 transition">
              <option value="video" data-en="YouTube Video" data-uk="–í—ñ–¥–µ–æ –Ω–∞ YouTube">YouTube Video</option>
              <option value="shorts" data-en="YouTube Shorts" data-uk="YouTube –®–æ—Ä—Ç–∏">YouTube Shorts</option>
            </select>
          </div>

          <!-- Categories (Multi) -->
          <div>
            <label
              data-en="Content Categories (Multi-select)"
              data-uk="–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –∫–æ–Ω—Ç–µ–Ω—Ç—É (–∫—ñ–ª—å–∫–∞)"
              class="block text-sm font-medium text-gray-700 mb-1">
              Content Categories (Multi-select)
            </label>
            <p class="text-xs text-gray-500 mb-1" data-en="(e.g. 'Beauty + Blog + Vlog')" data-uk="(–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 'Beauty + Blog + Vlog')">
              (e.g. "Beauty + Blog + Vlog")
            </p>
            <select
              id="categoriesSelect"
              multiple
              size="7"
              onchange="handleCategoryChange(); saveFormState(); computeScore();"
              class="w-full p-2 border border-gray-300 rounded-md bg-white text-gray-700 focus:ring-2 focus:ring-purple-400 transition">
              <option value="beauty" data-en="Beauty" data-uk="–ö—Ä–∞—Å–∞">Beauty</option>
              <option value="vlog" data-en="Vlog" data-uk="–í–ª–æ–≥">Vlog</option>
              <option value="blog" data-en="Blog" data-uk="–ë–ª–æ–≥">Blog</option>
              <option value="fashion" data-en="Fashion" data-uk="–ú–æ–¥–∞">Fashion</option>
              <option value="shopping" data-en="Shopping" data-uk="–®–æ–ø—ñ–Ω–≥">Shopping</option>
              <option value="entertainment" data-en="Entertainment" data-uk="–†–æ–∑–≤–∞–≥–∏">Entertainment</option>
              <option value="health" data-en="Health" data-uk="–ó–¥–æ—Ä–æ–≤'—è">Health</option>
            </select>
          </div>
        </div>

        <!-- Season/Event -->
        <div>
          <label
            data-en="Season/Event"
            data-uk="–°–µ–∑–æ–Ω/–ü–æ–¥—ñ—è"
            class="block text-sm font-medium text-gray-700 mb-1">
            Season/Event
          </label>
          <select
            id="seasonalEvent"
            onchange="saveFormState(); computeScore();"
            class="w-full p-2 border border-gray-300 rounded-md bg-white text-gray-700 focus:ring-2 focus:ring-purple-400 transition">
            <option value="none" data-en="None / –ù–µ–º–∞—î" data-uk="–ù–µ–º–∞—î">None / –ù–µ–º–∞—î</option>
            <!-- Holidays / Seasons (Make sure they're visible) -->
            <optgroup label="Holidays / –°–≤—è—Ç–∞">
              <option value="christmas">Christmas / –†—ñ–∑–¥–≤–æ</option>
              <option value="newyear">New Year / –ù–æ–≤–∏–π —Ä—ñ–∫</option>
              <option value="easter">Easter / –í–µ–ª–∏–∫–¥–µ–Ω—å</option>
              <option value="halloween">Halloween / –•–µ–ª–ª–æ–≤—ñ–Ω</option>
            </optgroup>
            <optgroup label="Seasons / –°–µ–∑–æ–Ω–∏">
              <option value="spring">Spring / –í–µ—Å–Ω–∞</option>
              <option value="summer">Summer / –õ—ñ—Ç–æ</option>
              <option value="autumn">Autumn / –û—Å—ñ–Ω—å</option>
              <option value="winter">Winter / –ó–∏–º–∞</option>
            </optgroup>
          </select>
        </div>

        <!-- Video Title -->
        <div>
          <label
            data-en="Video Title"
            data-uk="–ù–∞–∑–≤–∞ –≤—ñ–¥–µ–æ"
            class="block text-sm font-medium text-gray-700 mb-1">
            Video Title
          </label>
          <textarea
            id="videoTitle"
            oninput="handleTitleInput(this); computeScore(); saveFormState();"
            rows="2"
            class="w-full p-3 border border-gray-300 rounded-md bg-white text-gray-700 focus:ring-2 focus:ring-purple-400 transition"
            data-en="Enter your video title"
            data-uk="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –≤–∞—à–æ–≥–æ –≤—ñ–¥–µ–æ"
            placeholder="Enter your video title"></textarea>
          <div class="mt-1 text-sm text-gray-500 flex justify-between">
            <span><span id="titleCount">0</span>/70</span>
            <span id="brandDetected" class="hidden text-purple-600 text-xs">‚ú® Brand(s) detected</span>
          </div>
        </div>

        <!-- Key Points -->
        <div>
          <label
            data-en="Key Points"
            data-uk="–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏"
            class="block text-sm font-medium text-gray-700 mb-1">
            Key Points
          </label>
          <textarea
            id="keyPoints"
            rows="4"
            oninput="saveFormState(); computeScore();"
            class="w-full p-3 border border-gray-300 rounded-md bg-white text-gray-700 focus:ring-2 focus:ring-purple-400 transition"
            data-en="1) Introduction
2) Highlights or step-by-step tips
3) Conclusion"
            data-uk="1) –í—Å—Ç—É–ø
2) –û—Å–Ω–æ–≤–Ω—ñ –º–æ–º–µ–Ω—Ç–∏ –∞–±–æ –ø–æ–∫—Ä–æ–∫–æ–≤—ñ –ø–æ—Ä–∞–¥–∏
3) –í–∏—Å–Ω–æ–≤–∫–∏"
            placeholder="1) Introduction
2) Highlights or step-by-step tips
3) Conclusion"></textarea>
        </div>

        <!-- Links (Optional) -->
        <div>
          <label
            data-en="Links (Optional)"
            data-uk="–ü–æ—Å–∏–ª–∞–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)"
            class="block text-sm font-medium text-gray-700 mb-1">
            Links (Optional)
          </label>
          <textarea
            id="links"
            rows="3"
            oninput="saveFormState();"
            class="w-full p-3 border border-gray-300 rounded-md bg-white text-gray-700 focus:ring-2 focus:ring-purple-400 transition"
            data-en="http://example.com"
            data-uk="http://–ø—Ä–∏–∫–ª–∞–¥.com"
            placeholder="http://example.com"></textarea>
        </div>

        <!-- Competitor Analysis -->
        <div>
          <label
            data-en="Competitor Channels / Video Titles"
            data-uk="–ö–∞–Ω–∞–ª–∏ —á–∏ –≤—ñ–¥–µ–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤"
            class="block text-sm font-medium text-gray-700 mb-1">
            Competitor Channels / Video Titles
          </label>
          <p class="text-xs text-gray-500 mb-2"
             data-en="Paste competitor channels or popular YouTube video titles to see suggested trending keywords."
             data-uk="–í—Å—Ç–∞–≤—Ç–µ –∫–∞–Ω–∞–ª–∏ —á–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ñ –Ω–∞–∑–≤–∏ –≤—ñ–¥–µ–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —Ç—Ä–µ–Ω–¥–æ–≤—ñ –∫–ª—é—á–æ–≤—ñ —Å–ª–æ–≤–∞.">
            Paste competitor channels or popular YouTube video titles to see suggested trending keywords.
          </p>
          <textarea
            id="competitorData"
            rows="3"
            oninput="saveFormState();"
            class="w-full p-3 border border-gray-300 rounded-md bg-white text-gray-700 focus:ring-2 focus:ring-purple-400 transition"
            data-en="Channel X, Best Video Title of 2025, ..."
            data-uk="–ö–∞–Ω–∞–ª X, –ù–∞–π–∫—Ä–∞—â–∞ –Ω–∞–∑–≤–∞ –≤—ñ–¥–µ–æ 2025, ..."
            placeholder="Channel X, Best Video Title of 2025, ..."></textarea>
          <button
            type="button"
            data-en="Analyze Competitors"
            data-uk="–ê–Ω–∞–ª—ñ–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤"
            onclick="analyzeCompetitors()"
            class="mt-2 w-full p-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition">
            Analyze Competitors
          </button>
          <ul id="competitorSuggestions" class="mt-2 list-disc list-inside text-xs text-gray-600"></ul>
        </div>

        <!-- Generate Button -->
        <button
          onclick="generateContent()"
          class="w-full px-4 py-3 rounded-md bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold hover:from-purple-700 hover:to-pink-700 transition-all"
          data-en="Generate Content"
          data-uk="–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç">
          Generate Content
        </button>
      </div>

      <!-- Right: Preview & SEO Suggestions -->
      <div class="space-y-6">
        <!-- Preview Box (Desktop-friendly) -->
        <div class="bg-white rounded-xl shadow-lg p-6">
          <div class="flex items-center space-x-3 mb-4">
            <div class="p-2 bg-purple-100 rounded-md">
              <i data-lucide="smartphone" class="w-5 h-5 text-purple-600"></i>
            </div>
            <h2 class="text-xl font-semibold text-gray-800"
                data-en="Preview"
                data-uk="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥">
              Preview
            </h2>
          </div>
          <div class="preview-box overflow-y-auto p-4">
            <div id="previewContent" class="space-y-4">
              <div id="previewTitle" class="text-xl font-bold"></div>
              <div
                id="previewDescription"
                class="text-gray-600 whitespace-pre-wrap"></div>
              <div
                id="previewHashtags"
                class="text-blue-500 break-words"></div>
            </div>
          </div>
        </div>

        <!-- Copy + SEO + Thumbnail -->
        <div class="bg-white rounded-xl shadow-lg p-6 space-y-4">
          <button
            onclick="copyGeneratedContent()"
            class="w-full p-3 rounded-md bg-gray-100 text-gray-700 hover:bg-gray-200 transition"
            data-en="Copy Content"
            data-uk="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç">
            Copy Content
          </button>

          <!-- SEO Score & Suggestions -->
          <div class="border-t pt-4 text-gray-700 text-sm space-y-4">
            <div class="flex items-center justify-between">
              <span class="font-semibold"
                    data-en="SEO Score"
                    data-uk="SEO –û—Ü—ñ–Ω–∫–∞">
                SEO Score
              </span>
              <span id="seoScoreText" class="text-green-600">0</span>
            </div>
            <ul id="seoSuggestions" class="list-disc list-inside text-xs text-gray-600 space-y-1">
              <!-- Dynamic SEO tips go here -->
            </ul>
            <!-- Keyword Density Info -->
            <div id="keywordDensityInfo" class="text-xs text-gray-600"></div>
          </div>

          <!-- Automatic Thumbnail Suggestions -->
          <div class="border-t pt-4">
            <button
              type="button"
              onclick="generateThumbnailSuggestions()"
              class="w-full p-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition mb-2"
              data-en="Get Thumbnail Ideas"
              data-uk="–û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–¥–µ—ó –º—ñ–Ω—ñ–∞—Ç—é—Ä">
              Get Thumbnail Ideas
            </button>
            <ul id="thumbnailIdeas" class="list-disc list-inside text-xs text-gray-600"></ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Suggestions for YouTube Videos & Shorts -->
    <div class="mt-8 bg-white rounded-xl p-6 shadow-lg">
      <h3 class="text-xl font-semibold text-gray-800 mb-4"
          data-en="Best Practices for YouTube Videos & Shorts"
          data-uk="–ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –≤—ñ–¥–µ–æ —Ç–∞ —à–æ—Ä—Ç—ñ–≤ –Ω–∞ YouTube">
        Best Practices for YouTube Videos & Shorts
      </h3>
      <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
        <li data-en="Hook viewers within the first 5 seconds with a strong visual or question."
            data-uk="–ó–∞—Ü—ñ–∫–∞–≤—Ç–µ –≥–ª—è–¥–∞—á—ñ–≤ —É –ø–µ—Ä—à—ñ 5 —Å–µ–∫—É–Ω–¥ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —è—Å–∫—Ä–∞–≤–æ–≥–æ –≤—ñ–∑—É–∞–ª—É –∞–±–æ –ø–∏—Ç–∞–Ω–Ω—è.">
          Hook viewers within the first 5 seconds with a strong visual or question.
        </li>
        <li data-en="Optimize titles to be direct, clear, and under 70 chars."
            data-uk="–û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, —â–æ–± –≤–æ–Ω–∏ –±—É–ª–∏ —á—ñ—Ç–∫–∏–º–∏ –π –∫–æ—Ä–æ—Ç—à–∏–º–∏ –∑–∞ 70 —Å–∏–º–≤–æ–ª—ñ–≤.">
          Optimize titles to be direct, clear, and under 70 chars.
        </li>
        <li data-en="Use relevant hashtags (like #Shorts) to help visibility."
            data-uk="–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ñ —Ö–µ—à—Ç–µ–≥–∏ (–Ω–∞–ø—Ä. #Shorts) –¥–ª—è –∫—Ä–∞—â–æ—ó –≤–∏–¥–∏–º–æ—Å—Ç—ñ.">
          Use relevant hashtags (like #Shorts) to help visibility.
        </li>
        <li data-en="Include calls to action ('Like, subscribe, and comment below!')."
            data-uk="–î–æ–¥–∞–π—Ç–µ –∑–∞–∫–ª–∏–∫–∏ –¥–æ –¥—ñ—ó (¬´–ü–æ—Å—Ç–∞–≤—Ç–µ –ª–∞–π–∫, –ø—ñ–¥–ø–∏—à—ñ—Ç—å—Å—è —Ç–∞ –∫–æ–º–µ–Ω—Ç—É–π—Ç–µ!¬ª).">
          Include calls to action (‚ÄúLike, subscribe, and comment below!‚Äù).
        </li>
        <li data-en="End screens and pinned comments can guide viewers to more videos."
            data-uk="–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫—ñ–Ω—Ü–µ–≤—ñ –∑–∞—Å—Ç–∞–≤–∫–∏ —Ç–∞ –∑–∞–∫—Ä—ñ–ø–ª–µ–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ, —â–æ–± –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç–∏ –≥–ª—è–¥–∞—á—ñ–≤ –Ω–∞ —ñ–Ω—à—ñ –≤—ñ–¥–µ–æ.">
          End screens and pinned comments can guide viewers to more videos.
        </li>
        <li data-en="Consistent posting schedule builds audience expectation and loyalty."
            data-uk="–†–µ–≥—É–ª—è—Ä–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫ –ø—É–±–ª—ñ–∫–∞—Ü—ñ–π —Ñ–æ—Ä–º—É—î –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –π –ª–æ—è–ª—å–Ω—ñ—Å—Ç—å –∞—É–¥–∏—Ç–æ—Ä—ñ—ó.">
          Consistent posting schedule builds audience expectation and loyalty.
        </li>
        <li data-en="Check competitor videos for trending topics or tags you can adapt."
            data-uk="–ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ –≤—ñ–¥–µ–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤, —â–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—å –ø—Ä–æ —Ç—Ä–µ–Ω–¥–æ–≤—ñ —Ç–µ–º–∏ —Ç–∞ —Ç–µ–≥–∏.">
          Check competitor videos for trending topics or tags you can adapt.
        </li>
        <li data-en="Engage with your community through comments, Q&A, or polls."
            data-uk="–í–∑–∞—î–º–æ–¥—ñ–π—Ç–µ –∑—ñ —Å–ø—ñ–ª—å–Ω–æ—Ç–æ—é —á–µ—Ä–µ–∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ, Q&A —á–∏ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è.">
          Engage with your community through comments, Q&A, or polls.
        </li>
        <li data-en="Subtle branding in thumbnails or intros can make your channel memorable."
            data-uk="–ù–µ–ø–æ–º—ñ—Ç–Ω–∏–π –±—Ä–µ–Ω–¥–∏–Ω–≥ —É –º—ñ–Ω—ñ–∞—Ç—é—Ä—ñ —á–∏ —ñ–Ω—Ç—Ä–æ –º–æ–∂–µ –∑—Ä–æ–±–∏—Ç–∏ –∫–∞–Ω–∞–ª —É–ø—ñ–∑–Ω–∞–≤–∞–Ω–∏–º.">
          Subtle branding in thumbnails or intros can make your channel memorable.
        </li>
        <li data-en="Analyze watch time and audience retention to refine future content."
            data-uk="–ê–Ω–∞–ª—ñ–∑—É–π—Ç–µ —á–∞—Å –ø–µ—Ä–µ–≥–ª—è–¥—É —Ç–∞ —É—Ç—Ä–∏–º–∞–Ω–Ω—è –∞—É–¥–∏—Ç–æ—Ä—ñ—ó, —â–æ–± –ø–æ–∫—Ä–∞—â–∏—Ç–∏ –º–∞–π–±—É—Ç–Ω—ñ–π –∫–æ–Ω—Ç–µ–Ω—Ç.">
          Analyze watch time and audience retention to refine future content.
        </li>
      </ul>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      lucide.createIcons();
      loadFormState();
      computeScore();
      handleCategoryChange();
      updateLanguage(); // Initialize UI language
    });

    let currentLang = 'en';
    let detectedBrands = [];
    let competitorKeywords = []; // Store trending keywords from competitor analysis

    /* ================= LANGUAGE HANDLING ================= */
    function updateLanguage() {
      currentLang = document.getElementById('languageSelect').value;
      document.querySelectorAll('[data-en]').forEach(el => {
        const text = el.getAttribute(`data-${currentLang}`);
        if (text) el.textContent = text;
      });
      document.querySelectorAll('textarea[data-en]').forEach(area => {
        const placeholderText = area.getAttribute(`data-${currentLang}`);
        if (placeholderText) area.placeholder = placeholderText;
      });
      const docTitle = document.querySelector('title');
      const newTitle = docTitle.getAttribute(`data-${currentLang}`);
      if (newTitle) document.title = newTitle;
      if (document.getElementById('previewTitle').innerText.trim()) {
        generateContent();
      }
    }

    /* ================= CATEGORY & LOCATION ================= */
    function getSelectedCategories() {
      const selectEl = document.getElementById('categoriesSelect');
      return Array.from(selectEl.selectedOptions).map(opt => opt.value);
    }
    function handleCategoryChange() {
      const categories = getSelectedCategories();
      const locationSection = document.getElementById('locationSection');
      locationSection.classList.toggle('hidden', !categories.includes('vlog'));
    }

    /* ================= BRAND DETECTION ================= */
    function handleTitleInput(el) {
      const count = el.value.length;
      document.getElementById('titleCount').textContent = count;
      detectedBrands = detectBrands(el.value);
      document.getElementById('brandDetected').classList.toggle('hidden', detectedBrands.length === 0);
    }

    function detectBrands(text) {
      const brandDB = [
        "sephora","charlotte tilbury","ziaja","fortnum & mason",
        "loreal","cerave","fenty","glossier","urban decay",
        "essence","clinique","maybelline","mac","gordon ramsay",
        "instytutum","bioderma","heimish","biologique recherche","dmk"
      ];
      const found = [];
      const normalized = text.toLowerCase();
      brandDB.forEach(b => {
        if (normalized.includes(b.toLowerCase())) {
          found.push(b);
        }
      });
      return found;
    }

    /* ============== COMPETITOR ANALYSIS ============== */
    function analyzeCompetitors() {
      const competitorInput = document.getElementById('competitorData').value.toLowerCase().trim();
      const suggestionEl = document.getElementById('competitorSuggestions');
      suggestionEl.innerHTML = '';
      competitorKeywords = []; // reset

      if (!competitorInput) {
        const li = document.createElement('li');
        li.textContent = currentLang === 'uk'
          ? "–î–∞–Ω—ñ –ø—Ä–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤ –≤—ñ–¥—Å—É—Ç–Ω—ñ."
          : "No competitor data provided.";
        suggestionEl.appendChild(li);
        return;
      }

      // Basic approach: parse competitor input for popular/trending words
      const trendingKeywordsDB = ["trend","2025","viral","makeup","advent","unboxing","review","haul","react"];
      const words = competitorInput.split(/\s+/);
      words.forEach(w => {
        if (trendingKeywordsDB.includes(w)) {
          competitorKeywords.push(w);
        }
      });
      // Unique
      competitorKeywords = [...new Set(competitorKeywords)];

      if (competitorKeywords.length > 0) {
        const li = document.createElement('li');
        li.textContent = currentLang === 'uk'
          ? `–í–∏—è–≤–ª–µ–Ω–æ —Ç—Ä–µ–Ω–¥–æ–≤—ñ —Å–ª–æ–≤–∞: [${competitorKeywords.join(', ')}]. –á—Ö –±—É–¥–µ –¥–æ–¥–∞–Ω–æ –¥–æ –æ–ø–∏—Å—É.`
          : `Found trending words: [${competitorKeywords.join(', ')}]. We'll add them to the final description.`;
        suggestionEl.appendChild(li);
      } else {
        const li = document.createElement('li');
        li.textContent = currentLang === 'uk'
          ? "–ù–µ–º–∞—î –æ—á–µ–≤–∏–¥–Ω–∏—Ö –∫–ª—é—á–æ–≤–∏—Ö —Å–ª—ñ–≤, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∏."
          : "No obvious competitor keywords found.";
        suggestionEl.appendChild(li);
      }
    }

    /* ================== GENERATE CONTENT ================= */
    function generateContent() {
      if (!validateForm()) {
        alert(currentLang === 'uk'
          ? "–í–∏–ø—Ä–∞–≤—Ç–µ –ø–æ–º–∏–ª–∫–∏ —É –∑–∞–≥–æ–ª–æ–≤–∫—É —á–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è—Ö."
          : "Please fix highlighted fields (title, invalid links, etc.).");
        return;
      }
      // Clear old preview
      document.getElementById('previewTitle').innerText = '';
      document.getElementById('previewDescription').innerText = '';
      document.getElementById('previewHashtags').innerText = '';

      // Grab user input
      let userTitle = document.getElementById('videoTitle').value.trim();
      const polishedTitle = polishTitle(userTitle);

      // Create final descriptions
      const descBoth = generateBilingualDescription(polishedTitle);
      const hashtagsBoth = generateHashtagsForYouTube();

      // Show in preview
      document.getElementById('previewTitle').innerText = polishedTitle;
      document.getElementById('previewDescription').innerText = descBoth;
      document.getElementById('previewHashtags').innerText = hashtagsBoth;

      // Then do SEO scoring etc.
      computeScore();
      analyzeKeywordDensity();
    }

    /* ============= TITLE POLISH (VIRAL GENERATION) ============= */
    function polishTitle(userTitle) {
      // If userTitle is empty, provide a fallback
      if (!userTitle) {
        return currentLang === 'uk'
          ? "–ù–∞–π–∫—Ä–∞—â–∏–π –æ–≥–ª—è–¥ —Ä–æ–∫—É! (–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫)"
          : "Best Video Review of the Year! (Auto-Generated)";
      }
      // Incorporate a short viral word
      const viralWords = currentLang === 'uk'
        ? ["–í–∞—É","–¢—Ä–µ–Ω–¥–æ–≤–æ","–í—ñ—Ä—É—Å–Ω–µ","–ù–∞–π–∫—Ä–∞—â–µ","–ù–µ–π–º–æ–≤—ñ—Ä–Ω–æ"]
        : ["Wow","Viral","Epic","Must-See","Incredible"];
      const randomViralWord = viralWords[Math.floor(Math.random() * viralWords.length)];
      // Ensure we keep the length under 70
      let finalTitle = randomViralWord + ": " + userTitle;
      if (finalTitle.length > 70) {
        finalTitle = finalTitle.slice(0, 67) + "...";
      }
      return finalTitle;
    }

    /* ============= DESCRIPTION GENERATION ============= */
    function generateBilingualDescription(polishedTitle) {
      const points = document.getElementById('keyPoints').value
        .split('\n')
        .filter(x => x.trim());

      const links = document.getElementById('links').value
        .split('\n')
        .filter(x => x.trim());

      // We incorporate competitorKeywords
      const trendingFromCompetitors = competitorKeywords.length
        ? competitorKeywords.join(", ")
        : "";

      // EN + UK dictionaries
      const en = {
        watchNow: "üé• Watch Now:",
        inThisVideo: "üîç In this video:",
        usefulLinks: "üîó Useful Links:",
        thanks: "üëã Thanks for watching!",
        subscribe: "üîî Subscribe for more videos!"
      };
      const uk = {
        watchNow: "üé• –î–∏–≤—ñ—Ç—å—Å—è –∑–∞—Ä–∞–∑:",
        inThisVideo: "üîç –£ —Ü—å–æ–º—É –≤—ñ–¥–µ–æ:",
        usefulLinks: "üîó –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:",
        thanks: "üëã –î—è–∫—É—é –∑–∞ –ø–µ—Ä–µ–≥–ª—è–¥!",
        subscribe: "üîî –ü—ñ–¥–ø–∏—à—ñ—Ç—å—Å—è, —â–æ–± –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –Ω–æ–≤—ñ –≤—ñ–¥–µ–æ!"
      };

      // We'll add competitor trending words mid-description for extra SEO
      let extraLineEn = trendingFromCompetitors
        ? `Trending topics we touch on: ${trendingFromCompetitors}`
        : "";
      let extraLineUk = trendingFromCompetitors
        ? `–ê–∫—Ç—É–∞–ª—å–Ω—ñ —Ç–µ–º–∏, —è–∫—ñ –º–∏ –∑–≥–∞–¥—É—î–º–æ: ${trendingFromCompetitors}`
        : "";

      // English part
      let descEn = `${en.watchNow}\n${polishedTitle}\n\n${extraLineEn}\n\n`;
      if (points.length) {
        descEn += `${en.inThisVideo}\n`;
        points.forEach((p, i) => {
          descEn += `${i+1}. ${p}\n`;
        });
        descEn += '\n';
      }
      if (links.length) {
        descEn += `${en.usefulLinks}\n`;
        links.forEach(link => {
          descEn += `‚Ä¢ ${link}\n`;
        });
        descEn += '\n';
      }
      descEn += `${en.thanks}\n${en.subscribe}`;

      // Ukrainian part
      let descUk = `${uk.watchNow}\n${polishedTitle}\n\n${extraLineUk}\n\n`;
      if (points.length) {
        descUk += `${uk.inThisVideo}\n`;
        points.forEach((p, i) => {
          descUk += `${i+1}. ${p}\n`;
        });
        descUk += '\n';
      }
      if (links.length) {
        descUk += `${uk.usefulLinks}\n`;
        links.forEach(link => {
          descUk += `‚Ä¢ ${link}\n`;
        });
        descUk += '\n';
      }
      descUk += `${uk.thanks}\n${uk.subscribe}`;

      return `--- English ---\n${descEn}\n\n--- –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ ---\n${descUk}`;
    }

    /* ============= HASHTAGS FOR YOUTUBE ============= */
    function generateHashtagsForYouTube() {
      const categories = getSelectedCategories();
      const season = document.getElementById('seasonalEvent').value;
      const format = document.getElementById('youtubeFormatSelect').value;
      const baseEn = [];
      const baseUk = [];

      // Basic hashtag sets by category
      const hashtagPools = {
        beauty: {
          en: ["beauty","makeup","skincare","viralvideo","trend"],
          uk: ["–∫—Ä–∞—Å–∞","–º–∞–∫—ñ—è–∂","–¥–æ–≥–ª—è–¥_–∑–∞_—à–∫—ñ—Ä–æ—é","–≤—ñ—Ä—É—Å–Ω–µ_–≤—ñ–¥–µ–æ","—Ç—Ä–µ–Ω–¥"]
        },
        vlog: {
          en: ["vlog","dailyvlog","viralvideo","adventure","traveldiaries"],
          uk: ["–≤–ª–æ–≥","—â–æ–¥–µ–Ω–Ω–∏–π–≤–ª–æ–≥","–≤—ñ—Ä—É—Å–Ω–µ_–≤—ñ–¥–µ–æ","–ø—Ä–∏–≥–æ–¥–∏","–ø–æ–¥–æ—Ä–æ–∂—ñ"]
        },
        blog: {
          en: ["blog","personal","thoughts","viralvideo","trending"],
          uk: ["–±–ª–æ–≥","–æ—Å–æ–±–∏—Å—Ç–µ","–¥—É–º–∫–∏","–≤—ñ—Ä—É—Å–Ω–µ_–≤—ñ–¥–µ–æ","—Ç—Ä–µ–Ω–¥–∏"]
        },
        fashion: {
          en: ["fashion","style","ootd","viralvideo","trendalert"],
          uk: ["–º–æ–¥–∞","—Å—Ç–∏–ª—å","–ª—É–∫–¥–Ω—è","–≤—ñ—Ä—É—Å–Ω–µ_–≤—ñ–¥–µ–æ","—Ç—Ä–µ–Ω–¥–∏"]
        },
        shopping: {
          en: ["shopping","haul","unboxing","recommendations","viralvideo"],
          uk: ["—à–æ–ø—ñ–Ω–≥","—Ö–æ–ª","—Ä–æ–∑–ø–∞–∫—É–≤–∞–Ω–Ω—è","—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó","–≤—ñ—Ä—É—Å–Ω–µ_–≤—ñ–¥–µ–æ"]
        },
        entertainment: {
          en: ["entertainment","fun","viralvideo","weekendfun","music"],
          uk: ["—Ä–æ–∑–≤–∞–≥–∏","–≤–µ—Å–µ–ª–æ","–≤—ñ—Ä—É—Å–Ω–µ_–≤—ñ–¥–µ–æ","–≤–∏—Ö—ñ–¥–Ω—ñ","–º—É–∑–∏–∫–∞"]
        },
        health: {
          en: ["health","wellness","viralvideo","selfcare","energyboost"],
          uk: ["–∑–¥–æ—Ä–æ–≤'—è","—Å–∞–º–æ–ø–æ—á—É—Ç—Ç—è","–≤—ñ—Ä—É—Å–Ω–µ_–≤—ñ–¥–µ–æ","–¥–æ–≥–ª—è–¥_–∑–∞_—Å–æ–±–æ—é","–µ–Ω–µ—Ä–≥—ñ—è"]
        }
      };

      // Merge from selected categories
      categories.forEach(cat => {
        if (hashtagPools[cat]) {
          baseEn.push(...hashtagPools[cat].en);
          baseUk.push(...hashtagPools[cat].uk);
        }
      });

      // Weighted brand tags
      detectedBrands.forEach(b => {
        const brandTag = b.toLowerCase().replace(/\s+/g, '');
        baseEn.push(brandTag, brandTag); 
        baseUk.push(brandTag, brandTag);
      });

      // If category = vlog
      if (categories.includes('vlog')) {
        const locVal = document.getElementById('location').value.toLowerCase().replace(/\s+/g,'');
        baseEn.push(locVal);
        baseUk.push(locVal);
      }

      // Seasonal
      if (season !== 'none') {
        baseEn.push(season, season);
        baseUk.push(season, season);
      }

      // Format (shorts or long)
      if (format === "shorts") {
        baseEn.push("shorts","youtubeshorts");
        baseUk.push("shorts","youtubeshorts");
      } else {
        baseEn.push("youtube","youtuber");
        baseUk.push("youtube","youtuber");
      }

      // Remove duplicates, shuffle
      const finalEn = shuffle([...new Set(baseEn)]);
      const finalUk = shuffle([...new Set(baseUk)]);
      
      return `--- English ---\n${finalEn.map(x => '#'+x).join(' ')}\n\n--- –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ ---\n${finalUk.map(x => '#'+x).join(' ')}`;
    }

    function shuffle(a) {
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    /* ============= SEO SCORE & SUGGESTIONS ============= */
    function computeScore() {
      let score = 0;
      const suggestions = [];

      const title = document.getElementById('videoTitle').value.trim();
      const keyPoints = document.getElementById('keyPoints').value.trim();
      const categories = getSelectedCategories();
      const brandCount = detectedBrands.length;
      const season = document.getElementById('seasonalEvent').value;
      const format = document.getElementById('youtubeFormatSelect').value;

      // Title length
      if (title.length === 0) {
        suggestions.push(currentLang === 'uk'
          ? "–î–æ–¥–∞–π—Ç–µ –æ–ø–∏—Å–æ–≤—É –Ω–∞–∑–≤—É (30-70 —Å–∏–º–≤–æ–ª—ñ–≤)."
          : "Add a descriptive title (30-70 chars).");
      } else if (title.length < 30) {
        suggestions.push(currentLang === 'uk'
          ? "–ù–∞–∑–≤–∞ –Ω–∞–¥—Ç–æ –∫–æ—Ä–æ—Ç–∫–∞, —Å–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–¥–∞—Ç–∏ –±—ñ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π —á–∏ –∫–ª—é—á–æ–≤–∏—Ö —Å–ª—ñ–≤."
          : "Title is quite short, consider adding more detail or keywords.");
      } else if (title.length > 70) {
        suggestions.push(currentLang === 'uk'
          ? "–ù–∞–∑–≤–∞ –∑–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥–∞, —Å–∫–æ—Ä–æ—Ç—ñ—Ç—å –¥–æ 70 —Å–∏–º–≤–æ–ª—ñ–≤."
          : "Title is too long, keep it under 70 chars for best visibility.");
      } else {
        score += 30;
      }

      // Key points
      if (!keyPoints) {
        suggestions.push(currentLang === 'uk'
          ? "–î–æ–¥–∞–π—Ç–µ –∫—ñ–ª—å–∫–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ö –ø—É–Ω–∫—Ç—ñ–≤, —â–æ–± —Å—Ç—Ä—É–∫—Ç—É—Ä—É–≤–∞—Ç–∏ —Å–≤—ñ–π –∫–æ–Ω—Ç–µ–Ω—Ç."
          : "Include a few key points to structure your content.");
      } else {
        score += 20;
      }

      // Brand
      if (brandCount > 0) {
        score += 10;
      } else {
        suggestions.push(currentLang === 'uk'
          ? "–ó–≥–∞–¥–∞–π—Ç–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏–π –±—Ä–µ–Ω–¥ –∞–±–æ –ø—Ä–æ–¥—É–∫—Ç, —è–∫—â–æ –º–æ–∂–ª–∏–≤–æ, –¥–ª—è –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –ø–æ—à—É–∫–æ–≤–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü—ñ–∞–ª—É."
          : "Mention a relevant brand or product if possible to increase search potential.");
      }

      // Multiple categories synergy
      if (categories.length > 1) {
        score += 10;
      } else {
        suggestions.push(currentLang === 'uk'
          ? "–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–µ–∫—ñ–ª—å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π (–Ω–∞–ø—Ä. Beauty + Vlog), —â–æ–± —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ –∞—É–¥–∏—Ç–æ—Ä—ñ—é."
          : "Combine multiple categories (e.g., Beauty + Vlog) for broader reach.");
      }

      // Season
      if (season !== 'none') {
        score += 10;
      } else {
        suggestions.push(currentLang === 'uk'
          ? "–î–æ–¥–∞–π—Ç–µ —Å–µ–∑–æ–Ω/–ø–æ–¥—ñ—é, —è–∫—â–æ —Ü–µ –¥–æ—Ä–µ—á–Ω–æ (–Ω–∞–ø—Ä. –†—ñ–∑–¥–≤–æ)."
          : "Leverage a season/event if relevant (e.g. Christmas).");
      }

      // Vlog location
      if (categories.includes('vlog')) {
        const locHidden = document.getElementById('locationSection').classList.contains('hidden');
        if (!locHidden) {
          score += 10;
        } else {
          suggestions.push(currentLang === 'uk'
            ? "–î–ª—è –≤–ª–æ–≥—ñ–≤ –≤–∫–∞–∑–∞–Ω–Ω—è –ª–æ–∫–∞—Ü—ñ—ó –º–æ–∂–µ –∑–∞–ª—É—á–∏—Ç–∏ –º—ñ—Å—Ü–µ–≤—É –∞—É–¥–∏—Ç–æ—Ä—ñ—é."
            : "For Vlogs, specifying location can increase local interest and trending potential.");
        }
      }

      // Shorts or long-form
      if (format === 'shorts') {
        score += 10; 
      } else {
        score += 5;
        suggestions.push(currentLang === 'uk'
          ? "–ü–æ–¥—É–º–∞–π—Ç–µ –ø—Ä–æ –∫–æ—Ä–æ—Ç–∫–∏–π, –¥–∏–Ω–∞–º—ñ—á–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç, —è–∫—â–æ –≤–∞—à —Ñ–æ—Ä–º–∞—Ç –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —à–æ—Ä—Ç—ñ–≤ YouTube."
          : "Consider short, snappy content if your topic suits YouTube Shorts.");
      }

      if (score > 100) score = 100;
      document.getElementById('seoScoreText').textContent = score.toString();
      renderSuggestions(suggestions);
    }

    function renderSuggestions(suggestions) {
      const ul = document.getElementById('seoSuggestions');
      ul.innerHTML = '';
      suggestions.forEach(s => {
        const li = document.createElement('li');
        li.textContent = s;
        ul.appendChild(li);
      });
    }

    /* =========== KEYWORD DENSITY =========== */
    function analyzeKeywordDensity() {
      const text = (document.getElementById('videoTitle').value + ' ' + 
                    document.getElementById('keyPoints').value).toLowerCase();
      const words = text.split(/\s+/).filter(x => x);
      const freq = {};
      words.forEach(w => {
        if (!freq[w]) freq[w] = 0;
        freq[w]++;
      });
      const entries = Object.entries(freq).sort((a, b) => b[1] - a[1]);
      let info = currentLang === 'uk' ? "–©—ñ–ª—å–Ω—ñ—Å—Ç—å –∫–ª—é—á–æ–≤–∏—Ö —Å–ª—ñ–≤:\n" : "Keyword Density:\n";
      entries.slice(0, 5).forEach(([word, count]) => {
        info += `${word} ‚Äì used ${count} time(s)\n`;
      });
      document.getElementById('keywordDensityInfo').textContent = info.trim();
    }

    /* =========== THUMBNAIL SUGGESTIONS =========== */
    function generateThumbnailSuggestions() {
      const ideasEl = document.getElementById('thumbnailIdeas');
      ideasEl.innerHTML = '';

      const categories = getSelectedCategories();
      const brand = detectedBrands.length ? detectedBrands[0].toLowerCase() : null;

      const baseSuggestions = [
        currentLang === 'uk'
          ? "–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–º—ñ–ª–∏–≤—É, –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—É –∫–æ–ª—å–æ—Ä–æ–≤—É —Å—Ö–µ–º—É, —â–æ–± –≤—ñ–¥—Ä–∞–∑—É –ø—Ä–∏–≤–µ—Ä–Ω—É—Ç–∏ —É–≤–∞–≥—É."
          : "Use a bold, high-contrast color scheme to draw instant attention.",
        currentLang === 'uk'
          ? "–î–æ–¥–∞–π—Ç–µ –≤–µ–ª–∏–∫–∏–π, —á—ñ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç, —â–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –æ—Å–Ω–æ–≤–Ω—É —Ç–µ–º—É."
          : "Include a large, readable text overlay summarizing your main topic.",
        currentLang === 'uk'
          ? "–ó—Ä–æ–±—ñ—Ç—å –≤–µ–ª–∏–∫–∏–π –ø–ª–∞–Ω –æ–±–ª–∏—á—á—è, —â–æ–± –ø–æ–∫–∞–∑–∞—Ç–∏ –µ–º–æ—Ü—ñ—ó –π —Å–ø—Ä–∞–≤–∂–Ω—ñ—Å—Ç—å."
          : "Feature a close-up facial expression to emphasize emotion and authenticity.",
        currentLang === 'uk'
          ? "–ü–æ–∫–∞–∂—ñ—Ç—å ¬´–¥–æ —ñ –ø—ñ—Å–ª—è¬ª, —è–∫—â–æ —Ü–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –≤–∞—à–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É."
          : "Show a ‚Äòbefore vs. after‚Äô split if relevant to your content.",
        currentLang === 'uk'
          ? "–í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –∑–Ω–∞–∫ –ø–∏—Ç–∞–Ω–Ω—è —á–∏ —ñ–Ω—Ç—Ä–∏–≥—É—é—á–∏–π –µ–ª–µ–º–µ–Ω—Ç, —â–æ–± –∑–∞—Ü—ñ–∫–∞–≤–∏—Ç–∏ –≥–ª—è–¥–∞—á–∞."
          : "Tease a shocking or surprising element with a big question mark.",
      ];
      if (brand) {
        baseSuggestions.push(
          currentLang === 'uk'
            ? `–î–æ–¥–∞–π—Ç–µ –ª–æ–≥–æ—Ç–∏–ø —á–∏ –µ–ª–µ–º–µ–Ω—Ç –¥–∏–∑–∞–π–Ω—É –±—Ä–µ–Ω–¥—É ${brand}, —â–æ–± –ø—ñ–¥–≤–∏—â–∏—Ç–∏ –≤–ø—ñ–∑–Ω–∞–≤–∞–Ω—ñ—Å—Ç—å.`
            : `Incorporate the ${brand} logo or product design element for brand recognition.`
        );
      }
      if (categories.includes('beauty')) {
        baseSuggestions.push(
          currentLang === 'uk'
            ? "–ó—Ä–æ–±—ñ—Ç—å —á—ñ—Ç–∫–∏–π –∑–Ω—ñ–º–æ–∫ –º–∞–∫—ñ—è–∂—É —á–∏ –¥–æ–≥–ª—è–¥–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç—É –ø—Ä–∏ —Ö–æ—Ä–æ—à–æ–º—É –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—ñ."
            : "Display a clear shot of the featured makeup or skincare product in well-lit detail."
        );
      }
      if (categories.includes('vlog')) {
        baseSuggestions.push(
          currentLang === 'uk'
            ? "–í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –∫–∞–¥—Ä –∑ –ª–æ–∫–∞—Ü—ñ—î—é –∞–±–æ –Ω–∞–π—è—Å–∫—Ä–∞–≤—ñ—à–∏–º –º–æ–º–µ–Ω—Ç–æ–º –¥–Ω—è, —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ –º—ñ–Ω—ñ–∞—Ç—é—Ä—É —É–Ω—ñ–∫–∞–ª—å–Ω–æ—é."
            : "Use a snapshot of the location or highlight moment from your day to personalize the thumbnail."
        );
      }
      // Shuffle + pick top 3
      const shuffled = shuffle([...baseSuggestions]);
      shuffled.slice(0, 3).forEach(sug => {
        const li = document.createElement('li');
        li.textContent = sug;
        ideasEl.appendChild(li);
      });
    }

    /* =========== COPY FUNCTION =========== */
    function copyGeneratedContent() {
      const title = document.getElementById('previewTitle').innerText;
      const description = document.getElementById('previewDescription').innerText;
      const hashtags = document.getElementById('previewHashtags').innerText;
      const fullText = `${title}\n\n${description}\n\n${hashtags}`;

      navigator.clipboard.writeText(fullText)
        .then(() => alert(currentLang === 'uk'
          ? "–ö–æ–Ω—Ç–µ–Ω—Ç —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É!"
          : "Content copied to clipboard!"))
        .catch(err => {
          console.error("Failed to copy: ", err);
          alert(currentLang === 'uk'
            ? "–ù–µ–º–æ–∂–ª–∏–≤–æ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏. –°–∫–æ–ø—ñ—é–π—Ç–µ –≤—Ä—É—á–Ω—É."
            : "Unable to copy. Please select and copy manually.");
        });
    }

    /* =========== VALIDATION =========== */
    function validateForm() {
      resetErrorState();
      let valid = true;
      const titleEl = document.getElementById('videoTitle');
      const tLen = titleEl.value.trim().length;
      if (tLen === 0 || tLen > 70) {
        titleEl.classList.add('border-invalid');
        valid = false;
      }
      const linksEl = document.getElementById('links');
      const lines = linksEl.value.split('\n').filter(x => x.trim());
      for (const link of lines) {
        if (!link.startsWith('http')) {
          linksEl.classList.add('border-invalid');
          valid = false;
          break;
        }
      }
      return valid;
    }
    function resetErrorState() {
      ['videoTitle','links'].forEach(id => {
        document.getElementById(id).classList.remove('border-invalid');
      });
    }

    /* =========== LOCAL STORAGE =========== */
    function saveFormState() {
      const cats = Array.from(document.getElementById('categoriesSelect').selectedOptions).map(opt => opt.value);
      const state = {
        youtubeFormat: document.getElementById('youtubeFormatSelect').value,
        categories: cats,
        seasonalEvent: document.getElementById('seasonalEvent').value,
        videoTitle: document.getElementById('videoTitle').value,
        location: document.getElementById('location').value,
        keyPoints: document.getElementById('keyPoints').value,
        links: document.getElementById('links').value,
        competitorData: document.getElementById('competitorData').value,
        uiLanguage: document.getElementById('languageSelect').value
      };
      localStorage.setItem('ccsYouTubeOnlyStateBilingual', JSON.stringify(state));
    }
    function loadFormState() {
      const saved = localStorage.getItem('ccsYouTubeOnlyStateBilingual');
      if (!saved) return;
      try {
        const s = JSON.parse(saved);

        document.getElementById('youtubeFormatSelect').value = s.youtubeFormat ?? 'video';

        const selectEl = document.getElementById('categoriesSelect');
        if (Array.isArray(s.categories)) {
          Array.from(selectEl.options).forEach(opt => {
            if (s.categories.includes(opt.value)) {
              opt.selected = true;
            }
          });
        }
        document.getElementById('seasonalEvent').value = s.seasonalEvent ?? 'none';
        document.getElementById('videoTitle').value = s.videoTitle ?? '';
        document.getElementById('location').value = s.location ?? 'kyiv';
        document.getElementById('keyPoints').value = s.keyPoints ?? '';
 
